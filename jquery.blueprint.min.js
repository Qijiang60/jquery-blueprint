function parse_blueprint(c){var d=null,e="",a="",k=[],h=[],g={},b=0,f=0;for(i=0;i<c.length;i++){var j=c[i];if(d=="VAR_NAME")if(j=="#"&&c[i+1]=="@"){k[f]=e;f++;d=null;e="";i++;continue}else e+=j;if(!d)if(j=="@"&&c[i+1]=="#"){h[b]=a;a="";b++;d="VAR_NAME";i++}else a+=j}if(a!="")h[b]=a;if(e!="")k[f]=e;g.parts=h;g.vars=k;g.size=f>b?f:b;return g}
(function(c){var d={},e={init:function(){return this.each(function(){var a=c(this);html=a.html();blueprint=parse_blueprint(html);d[a.attr("templateid")]=blueprint;a.remove()})},render:function(a,k){for(var h=[],g=0,b=0;b<d[a].size;b++){h[g]=d[a].parts[b];for(var f=k,j=d[a].vars[b].split("."),l=0;l<j.length;l++)f=f[j[l]];h[g+1]=f;g+=2}c(this).append(h.join(""))}};c.fn.blueprint=function(a){if(e[a])return e[a].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof a=="object"||!a)return e.init.apply(this,
arguments);else c.error("Method "+a+" does not exist on jQuery.blueprint")}})(jQuery);