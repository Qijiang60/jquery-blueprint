function parse_blueprint(e){var f=null,g="",a="",k=[],j=[],h={},b=0,d=0;for(i=0;i<e.length;i++){var c=e[i];if(f=="VAR_NAME")if(c=="#"&&e[i+1]=="@"){k[d]=g;d++;f=null;g="";i++;continue}else g+=c;if(!f)if(c=="@"&&e[i+1]=="#"){j[b]=a;a="";b++;f="VAR_NAME";i++}else a+=c}if(a!=""){j[b]=a;b++}if(g!=""){k[d]=g;d++}h.parts=j;h.vars=k;h.size=d>b?d:b;return h}
(function(e){var f={},g={init:function(){return this.each(function(){var a=e(this);html=a.html();blueprint=parse_blueprint(html);f[a.attr("templateid")]=blueprint;a.remove()})},render:function(a,k){for(var j=[],h=0,b=0;b<f[a].size;b++){j[h]=f[a].parts[b];h++;var d=k,c=f[a].vars[b];if(c){var_parts=c.split(".");for(c=0;c<var_parts.length;c++)d=d[var_parts[c]];j[h]=d;h++}}e(this).append(j.join(""))}};e.fn.blueprint=function(a){if(g[a])return g[a].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof a==
"object"||!a)return g.init.apply(this,arguments);else e.error("Method "+a+" does not exist on jQuery.blueprint")}})(jQuery);